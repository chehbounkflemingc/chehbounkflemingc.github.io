<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Leaflet Map for Deep River Trails</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />

  	<!-- Load Leaflet from CDN-->
  	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>
  	<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>  

  	<!-- Load Esri Leaflet from CDN -->
  	<script src="https://unpkg.com/esri-leaflet@2.3.3/dist/esri-leaflet.js"
    integrity="sha512-cMQ5e58BDuu1pr9BQ/eGRn6HaR6Olh0ofcHFWe5XesdCITVuSBiBZZbhCijBe5ya238f/zMMRYIMIIg1jxv4sQ=="
    crossorigin=""></script>

	<!-- Load Esri Leaflet Renderers from CDN -->g
  	<script src="https://unpkg.com/esri-leaflet-renderers@2.0.6/dist/esri-leaflet-renderers.js"
    integrity="sha512-mhpdD3igvv7A/84hueuHzV0NIKFHmp2IvWnY5tIdtAHkHF36yySdstEVI11JZCmSY4TCvOkgEoW+zcV/rUfo0A=="
    crossorigin=""></script>
	
	<!-- Load Esri Leaflet Ajax from CDN -->
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
	
  <style>
    html,
    body,
    #map {
      height: 100%;
      width: 100%;
      margin: 0;
      padding: 0;
    }

/*Setup CSS Legend*/

/*Legend specific: https://codepen.io/haakseth/pen/KQbjdO*/ 
.legend {
  padding: 6px 8px;
  font: 12px Arial, Helvetica, sans-serif;
  background: white;
  background: rgba(255, 255, 255, 0.8);
  /*box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);*/
  /*border-radius: 5px;*/
  line-height: 20px;
  color: #555;
}
.legend h4 {
  text-align: center;
  font-size: 14px;
  margin: 2px 12px 8px;
  color: #777;
}

.legend span {
  position: relative
  bottom: 3px;
}

.legend i {
  width: 12px;
  height: 12px;
  float: left;
  margin: 0 8px 0 0;
  opacity: 0.7;
}

.legend i.icon {
  background-size: 18px;
  background-color: rgba(255, 255, 255, 1);
}

.subtrails {
  margin-left: 20px;
}
	  
 </style>
	
</head>
	
	
<body>
  <div id="map"></div>
  <script>
	  
var map = L.map('map').setView([46.08,-77.45], 11);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);
	  
/* Trails GeoJSON */

 
function onEachFeature(feature, layer) {
    // does this feature have a property named popupContent?
    if (feature.properties && feature.properties.Trail_Name) {
        layer.bindPopup("<strong>Trail Name: </strong>" +feature.properties.Trail_Name + "<br><strong>Total Length:</strong> "+feature.properties.Length_KMS +" KMS"+ "<br><strong>Association Name:</strong> "+ feature.properties.Association + "<br><strong>Trail Type:</strong> "+ feature.properties.Grouping+ "<br><strong>Degree Of Difficulty (1 - 5 Scale):</strong> "+ feature.properties.DegreeOfDifficulty );
    }
}


function onEachFeature1(feature, layer) {
    // does this feature have a property named popupContent?
    if (feature.properties && feature.properties.Name) {
        layer.bindPopup(feature.properties.Name);
    }
} 

var FourSeasons_MountainBikingTrails = new L.GeoJSON.AJAX("FourSeasons_MountainBikingTrails.geojson",
{
    style: function(feature) {
        switch (feature.properties.Name) {
            case 'B Loop': return {color: "#E60000"};
            case 'D Loop':   return {color: "#FEB8B7"};
	    case 'M Loop':   return {color: "#E3B3FD"};
	    case 'S Loop':   return {color: "#ab72a5"};
	    case 'H Loop':   return {color: "#70A800"};
	    case 'D-M Loop':   return {color: "#cc765c"};
	    case "Ray's Junction":   return {color: "#5c4f4b"};
        }
    },
	onEachFeature: onEachFeature1,
	weight: 1.5
});       
FourSeasons_MountainBikingTrails.addTo(map); 
	   
var DeepRiverTrails = new L.GeoJSON.AJAX("DeepRiverTrails.geojson",
{
    style: function(feature) {
        switch (feature.properties.Trail_Name) {
            case 'Biking Trail Chalk River to Deep River': return {color: "#ffde00", weight: 2};
		case 'Deep River Walking Trail':   return {color: "#007aa3", weight: 2};
	    case 'Deep River - Cabin Trail - Base Lake Road':   return {color: "#A52A2A", weight: 2};
		case 'Silver Spoon Trail System':   return {color: "#e327cf", weight: 2};
	    case 'Mount Martin Trail':   return {color: "#ff5d00", weight: 2};
	    case 'Ottawa River Water Trail':   return {color: "#cc765c", weight: 2};
        }
    },
	onEachFeature: onEachFeature
});       
DeepRiverTrails.addTo(map);


var OttawaValleyRecreationalTrail = new L.GeoJSON.AJAX("OttawaValleyRecreationalTrail.geoJson",
{
	color:'blue',
	weight: 2
});   
OttawaValleyRecreationalTrail.addTo(map);

	  
var BikeRoutes_VouageurRoute = new L.GeoJSON.AJAX("BikeRoutes_VouageurRoute.geojson",
{
	onEachFeature: onEachFeature1,
	color:'red',
	weight: 2
});
BikeRoutes_VouageurRoute.addTo(map);


/*Legend specific: https://codepen.io/haakseth/pen/KQbjdO*/
var legend = L.control({ position: "topright" });
legend.onAdd = function(map) {
  var div = L.DomUtil.create("div", "legend");
   div.innerHTML += "<h4>Legend</h4>";
  div.innerHTML += '<i style="background: #E60000"></i><span>Biking Trail Chalk River to Deep River</span><br>';
  div.innerHTML += '<i style="background: #FEB8B7""></i><span>Deep River Walking Trail</span><br>';
  div.innerHTML += '<i style="background: #E3B3FD"></i><span>Deep River - Cabin Trail - Base Lake Road</span><br>';
  div.innerHTML += '<i style="background: #70A800"></i><span>Mount Martin Trail</span><br>';
  div.innerHTML += '<i style="background: #cc765c"></i><span>Ottawa River Water Trail</span><br>';
  div.innerHTML += '<i style="background: #e327cf"></i><span>Silver Spoon Trail System</span><br>';
  div.innerHTML += '<i style="background: #E60000"></i><span>B Loop</span><br>';
  div.innerHTML += '<i style="background: #FEB8B7"></i><span>D Loop</span><br>';
  div.innerHTML += '<i style="background: #E3B3FD"></i><span>M Loop</span><br>';
  div.innerHTML += '<i style="background: #ab72a5"></i><span>S Loop</span><br>';
  div.innerHTML += '<i style="background: #70A800"></i><span>H Loop</span><br>';
  div.innerHTML += '<i style="background: #cc765c"></i><span>DM Loop</span><br>';
  div.innerHTML += '<i style="background: #5c4f4b"></i><span>Rays Junction</span><br>';
  div.innerHTML += '<i style="background: #fcba03"></i><span>Biking Vouageur Route</span><br>';
  div.innerHTML += '<i style="background: blue"></i><span>Ottawa Valley Recreational Trail</span><br>';	
  return div;
};
legend.addTo(map);
	  
/* Adding scale bar*/
L.control.scale().addTo(map);		

</script>
</body>
</html>
